
CREATE TABLE if not exists city (
       city_id INTEGER PRIMARY KEY AUTOINCREMENT,
	   city_name VARCHAR(30)
);

INSERT INTO city (city_name)  VALUES
('Shang Hai'),
('Ha Erbing'),
('Cheng Du'),
('Bei Jing'),
('Lan Zhou'),
('Moscow'),
('Vladivostok'),
('Saint Petersburg'),
('Hui Chun'),
('Hai Nan'),
('Chong Qing');


CREATE TABLE IF NOT EXISTS country (
       country_id INTEGER PRIMARY KEY AUTOINCREMENT,
	   country_name VARCHAR(40)
);

INSERT INTO country (country_name)  VALUES
('China'),
('Russia');


CREATE TABLE IF NOT EXISTS transport (
       transport_id INTEGER PRIMARY KEY AUTOINCREMENT,
	   transport_name VARCHAR(30)
);

INSERT INTO transport (transport_name)  VALUES
('plain'),
('car'),
('train');


CREATE TABLE IF NOT EXISTS traveler (
       traveler_id INTEGER PRIMARY KEY AUTOINCREMENT,
	   traveler_name VARCHAR(30)
);

INSERT INTO traveler (traveler_name)  VALUES
('Иванов М.С.'),
('Петров Ф.С.'),
('Федоров П.Р.'),
('Абрамова А.А.'),
('Самарин С.С.'),
('Туполев И.Д.'),
('Баранов П.В.');

CREATE TABLE IF NOT EXISTS place (
      place_id INTEGER PRIMARY KEY AUTOINCREMENT,

	  country_id INT,
      city_id INT,
      street VARCHAR(80),
      sights VARCHAR(80),
      transport_id INT,
      FOREIGN KEY (country_id)  REFERENCES country (country_id) ON DELETE CASCADE,
      FOREIGN KEY (city_id)  REFERENCES city (city_id) ON DELETE CASCADE
);

INSERT INTO place(country_id, city_id, street, sights, transport_id)  VALUES
(1, 1, 'The Bund', 60000, 1),
(1, 2, 'Central Avenue', 10000, 2),
(1, 3, 'Du jiang yan', 30000, 1),
(1, 4, 'Wangfujing Street', 50000, 1),
(1, 5, 'Baita Mountain', 40000, 1),
(2, 6, 'Red Square', 80000, 3),
(2, 7, 'Oceanarium', 40000, 1),
(2, 8, 'Winter Palace', 80000, 1),
(1, 9, 'Fangchuan Scenic Area', 30000, 3),
(1, 10, 'Nanshan Temple', 80000, 1),
(1, 11, 'Fengdu Ghost Town', 40000, 1);

CREATE TABLE IF NOT EXISTS place_traveler (
      place_traveler_id INTEGER PRIMARY KEY AUTOINCREMENT,
      place_id int,
      traveler_id INT,
	  com_date DATE,
	  leave_date DATE,
      FOREIGN KEY (place_id)  REFERENCES place (place_id) ON DELETE CASCADE,
      FOREIGN KEY (traveler_id)  REFERENCES traveler (traveler_id) ON DELETE CASCADE
);

INSERT INTO place_traveler(place_id, traveler_id, com_date, leave_date)  VALUES
( 2, 4, '2020-09-11', '2020-09-24'),
( 11, 6, '2020-09-11', '2020-09-18'),
( 3, 5, '2020-09-17', '2020-10-10'),
( 4, 6, '2020-09-20', '2020-10-14'),
( 5, 4, '2020-09-26', '2020-10-04'),
( 11, 1, '2020-09-21', '2020-10-09'),
( 10, 4, '2020-10-10', '2020-10-25'),
( 1, 3, '2020-09-28', '2020-10-07'),
( 2, 2, '2020-09-30', '2020-10-08'),
( 7, 1, '2020-10-15', '2020-10-25'),
( 9, 4, '2020-10-27', '2020-11-25'),
( 6, 7, '2020-10-06', '2020-10-26'),
( 11, 1, '2020-11-06', '2020-11-13'),
( 4, 3, '2020-10-18', '2020-10-29'),
( 7, 2, '2020-10-15', '2020-10-27'),
( 2, 7, '2020-10-29', '2020-11-12'),
( 3, 5, '2020-10-14', '2020-10-27');
